<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Jan Hovancik</title>
  <subtitle>software developer - guitar player - poetry lover</subtitle>
  <id>http://hovancik.net/blog</id>
  <link href="http://hovancik.net/blog"/>
  <link href="http://hovancik.net/blog/feed.xml" rel="self"/>
  <updated>2020-01-22T08:00:00+00:00</updated>
  <author>
    <name>Jan Hovancik</name>
  </author>
  <entry>
    <title>Change the color of SVG image via CSS</title>
    <link rel="alternate" href="http://hovancik.net/blog/2020/01/22/change-the-color-of-svg-image-via-css/"/>
    <id>http://hovancik.net/blog/2020/01/22/change-the-color-of-svg-image-via-css/</id>
    <published>2020-01-22T08:00:00+00:00</published>
    <updated>2020-01-22T12:17:59+00:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;While working on new version of stretchly, I've run into an interesting problem. Here's a design I need to to:&lt;/p&gt;

&lt;p&gt;&lt;img src="/img/stretchly-postpone-new.png" alt="new stretchly design" width="100%" /&gt;&lt;/p&gt;

&lt;p&gt;Here's SVG for icon:&lt;/p&gt;

&lt;p&gt;&lt;img src="/img/stretchly-postpone-icon-new.svg" alt="new stretchly design" width="8%" /&gt;&lt;/p&gt;

&lt;p&gt;As you can guess, the icon is black when added to the HTML. What I need, though, is white one an yellow-ish on hover. Creating another set of icons for different colors seemed overthinking…&lt;/p&gt;

&lt;p&gt;As the SVG file is rather simple, I was expecting that there should be a simple solution how to change a color of SVG via CSS. And there is.&lt;/p&gt;

&lt;p&gt;All you need to do is to target your image with following:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-css"&gt;img {
  filter: invert(100%) sepia(100%) saturate(0%) hue-rotate(288deg) brightness(102%) contrast(102%);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The value of &lt;code&gt;filter&lt;/code&gt; is the color you want, based on &lt;a href="https://codepen.io/sosuke/pen/Pjoqqp"&gt;CSS filter generator to convert from black to target hex color&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Neat.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>stretchly 0.21.1 released</title>
    <link rel="alternate" href="http://hovancik.net/blog/2020/01/16/stretchly-0-21-1-released/"/>
    <id>http://hovancik.net/blog/2020/01/16/stretchly-0-21-1-released/</id>
    <published>2020-01-16T08:00:00+00:00</published>
    <updated>2020-01-22T12:17:59+00:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;Hi there guys, I am really happy to release version 0.21.1 of &lt;a href="/stretchly"&gt;&lt;em&gt;stretchly&lt;/em&gt;&lt;/a&gt;. You can download it from &lt;a href="/stretchly/downloads"&gt;downloads&lt;/a&gt; page.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;stretchly&lt;/em&gt; is cross-platform open source app that reminds you to take breaks when working with computer.&lt;/p&gt;

&lt;p&gt;If you enjoy &lt;em&gt;stretchly&lt;/em&gt;, consider becoming patron at &lt;a href="https://www.patreon.com/hovancik"&gt;Patreon&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="changed"&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Italian translations updated&lt;/li&gt;
  &lt;li&gt;break window is shown on all Workspaces in macOS&lt;/li&gt;
  &lt;li&gt;Improved readability of English text&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="added"&gt;Added&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;user can set volume for break sounds (set via Settings file or Contributor's settings)&lt;/li&gt;
  &lt;li&gt;user can set time after which breaks are paused in Natural Break (set via Settings file or Contributor's settings)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="fixed"&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;texts appearing on top of each other in Settings for Chinese&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If they are none critical problems with this release, I will start working on new &lt;em&gt;stretchly&lt;/em&gt; version that I consulted with designer, meaning: &lt;em&gt;stretchly&lt;/em&gt; will get UI/UX overhaul. It will probably become version 1.0.&lt;/p&gt;

&lt;p&gt;Thanks to everyone for support on &lt;a href="https://www.patreon.com/hovancik"&gt;Patreon&lt;/a&gt; and code contributions!&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>DiscoverBSD and BSDSec 2019 top articles</title>
    <link rel="alternate" href="http://hovancik.net/blog/2019/12/31/discoverbsd-and-bsdsec-2019-top-articles/"/>
    <id>http://hovancik.net/blog/2019/12/31/discoverbsd-and-bsdsec-2019-top-articles/</id>
    <published>2019-12-31T10:26:00+00:00</published>
    <updated>2020-01-22T12:17:59+00:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;With the 2020 upon us, let's look at the most visited articles on the &lt;a href="https://discoverbsd.com"&gt;DiscoverBSD&lt;/a&gt; and &lt;a href="https://bsdsec.net"&gt;BSDSec&lt;/a&gt; websites. Date of submission doesn't matter, we are only looking at number of visits (so some of the articles might be from 2018 or earlier…).&lt;/p&gt;

&lt;p&gt;Thanks to everyone who submitted to DiscoverBSD and to all the good people working on BSD security teams!&lt;/p&gt;

&lt;h2 id="top-10-discoverbsd"&gt;Top 10 DiscoverBSD&lt;/h2&gt;

&lt;p&gt;My subjective feeling is that the most of news submitted were FreeBSD related, but it seems that people are the most interested in OpenBSD related stuff.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href="https://www.tumfatig.net/20190208/customizing-openbsd-xenodm/"&gt;Customizing OpenBSD xenodm&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://h3artbl33d.nl/blog/nextcloud-on-openbsd"&gt;NextCloud on OpenBSD&lt;/a&gt; (offline?)&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://xigmanas.com/forums/viewtopic.php?f=4&amp;amp;t=13790/&amp;amp;utm_source=discoverbsd"&gt;NAS4Free is renamed into XigmaNAS&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://www.h-i-r.net/2018/12/openbsd-vmm-hypervisor-part-4-running.html"&gt;OpenBSD VMM Hypervisor Part 4: Running Ubuntu (and possibly other distros)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://vermaden.wordpress.com/2018/11/20/freebsd-desktop-part-2-1-install-freebsd-12/"&gt;FreeBSD Desktop – Part 2.1 – Install FreeBSD 12&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://www.netgate.com/blog/pfsense-2-4-4-release-p2-now-available.html"&gt;pfSense 2.4.4-RELEASE-p2 now available&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://www.tumfatig.net/20190131/customized-resolution-for-openbsd-in-virtualbox/"&gt;Customized resolution for OpenBSD in VirtualBox&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://www.openbsd.org/65.html"&gt;OpenBSD 6.5 WIP notes are online&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://www.secbsd.org/"&gt;SecBSD: an UNIX-like OS for Hackers&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://www.tumfatig.net/20190215/an-openbsd-desktop-using-windowmaker/"&gt;An OpenBSD desktop using WindowMaker&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id="top-10-bsdsec"&gt;Top 10 BSDSec&lt;/h2&gt;

&lt;p&gt;Similar to the DiscoverBSD's top 10, we can see that readers are mostly interested in OpenBSD stuff, with exception of FreeBSD Status Reports.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href="https://bsdsec.net/articles/openbsd-6-5-released-apr-24-2019"&gt;OpenBSD 6.5 released – Apr 24 2019&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://bsdsec.net/articles/freebsd-announce-freebsd-quarterly-status-report-first-quarter-2019"&gt;FreeBSD Quarterly Status Report - First Quarter 2019&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://bsdsec.net/articles/freebsd-announce-freebsd-quarterly-status-report-fourth-quarter-2018"&gt;FreeBSD Quarterly Status Report - Fourth Quarter 2018&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://bsdsec.net/articles/libressl-3-0-0-released"&gt;LibreSSL 3.0.0 Released&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://bsdsec.net/articles/freebsd-announce-freebsd-errata-notice-freebsd-en-19-18-tzdata"&gt;FreeBSD Errata Notice FreeBSD-EN-19:18.tzdata&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://bsdsec.net/articles/openbsd-6-4-released-oct-18-2018"&gt;OpenBSD 6.4 released - Oct 18, 2018&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://bsdsec.net/articles/openbsd-6-6-release-oct-17-2019"&gt;OpenBSD 6.6 release, Oct 17, 2019&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://bsdsec.net/articles/openbgpd-6-5p0-released"&gt;OpenBGPD 6.5p0 released&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://bsdsec.net/articles/freebsd-announce-freebsd-quarterly-status-report-fourth-quarter-2015"&gt;FreeBSD Quarterly Status Report - Fourth Quarter 2015&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://bsdsec.net/articles/freebsd-announce-freebsd-quarterly-status-report-second-quarter-2019"&gt;FreeBSD Quarterly Status Report - Second Quarter 2019&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
  </entry>
  <entry>
    <title>The future of BSDSec</title>
    <link rel="alternate" href="http://hovancik.net/blog/2019/10/19/the-future-of-bsdsec/"/>
    <id>http://hovancik.net/blog/2019/10/19/the-future-of-bsdsec/</id>
    <published>2019-10-19T10:16:00+00:00</published>
    <updated>2020-01-22T12:17:59+00:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;The most of the apps/websites I run are in Ruby on Rails (RoR) and everytime there is a new major release I upgrade them. It's also time to think about where they are going.&lt;/p&gt;

&lt;p&gt;Back in August, when they made RoR 6.0 public, I've upgraded &lt;a href="https://discoverbsd.com/"&gt;DiscoverBSD&lt;/a&gt;, &lt;a href="https://lemur.app"&gt;Lem&lt;/a&gt; and &lt;a href="https://my.stretchly.net/"&gt;stretchly server&lt;/a&gt;, but I was very successfully procrastinating on &lt;a href="https://bsdsec.net"&gt;BSDSec&lt;/a&gt;. In last few days, finally, I have forced myself to upgrade it.&lt;/p&gt;

&lt;p&gt;And it was indeed successful exercise. Not only had I chance to use some of new RoR features, but I also had time to see some of BSDSec's problems (social sharing, design, code debt) and think about it's future.&lt;/p&gt;

&lt;p&gt;As it goes hand-in-hand with DiscoverBSD, I am thinking to reuse the design of DiscoverBSD (but change the primary color to some different one) and somehow connect them (probably as menu items).&lt;/p&gt;

&lt;p&gt;Let's see…&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Some of the joys of open-source development</title>
    <link rel="alternate" href="http://hovancik.net/blog/2019/10/15/some-of-the-joys-of-open-source-development/"/>
    <id>http://hovancik.net/blog/2019/10/15/some-of-the-joys-of-open-source-development/</id>
    <published>2019-10-15T15:15:00+00:00</published>
    <updated>2020-01-22T12:17:59+00:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;h3 id="some-of-the-joys-of-open-source-development"&gt;Some of the joys of open-source development&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;someone &lt;a href="https://github.com/Homebrew/homebrew-cask/pull/70736"&gt;updates&lt;/a&gt; brew cask after new release so you don't have to&lt;/li&gt;
  &lt;li&gt;someone says &lt;a href="https://github.com/hovancik/stretchly/issues/393#issuecomment-541739614"&gt;Thanks!&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;someone is willing to &lt;a href="https://github.com/hovancik/stretchly/issues/421#issuecomment-511600463"&gt;help&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;someone says your app is &lt;a href="https://twitter.com/HarshadOak/status/1097038328321388544"&gt;changing&lt;/a&gt; their life&lt;/li&gt;
  &lt;li&gt;someone sends some money your way ;]&lt;/li&gt;
  &lt;li&gt;someone &lt;a href="https://github.com/hovancik/stretchly/pull/485"&gt;updates&lt;/a&gt; the translations&lt;/li&gt;
&lt;/ul&gt;
</content>
  </entry>
  <entry>
    <title>stretchly 0.21.0 released</title>
    <link rel="alternate" href="http://hovancik.net/blog/2019/10/13/stretchly-0-21-0-released/"/>
    <id>http://hovancik.net/blog/2019/10/13/stretchly-0-21-0-released/</id>
    <published>2019-10-13T09:49:00+00:00</published>
    <updated>2020-01-22T12:17:59+00:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;Hi there guys, I am really happy to release version 0.21.0 of &lt;a href="/stretchly"&gt;&lt;em&gt;stretchly&lt;/em&gt;&lt;/a&gt;. You can download it from &lt;a href="/stretchly/downloads"&gt;downloads&lt;/a&gt; page.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;stretchly&lt;/em&gt; is cross-platform open source app that reminds you to take breaks when working with computer.&lt;/p&gt;

&lt;p&gt;If you enjoy &lt;em&gt;stretchly&lt;/em&gt;, consider becoming patron at &lt;a href="https://www.patreon.com/hovancik"&gt;Patreon&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="changed"&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;checkbox labels are clickable as well&lt;/li&gt;
  &lt;li&gt;tray menu link for update to website, instead of github&lt;/li&gt;
  &lt;li&gt;Chinese (Taiwan) translations updated&lt;/li&gt;
  &lt;li&gt;German translations updated&lt;/li&gt;
  &lt;li&gt;no notification is shown after system resume/unlock&lt;/li&gt;
  &lt;li&gt;no notification is shown after manual resume of pause from tray menu&lt;/li&gt;
  &lt;li&gt;keep the focus on active window during breaks&lt;/li&gt;
  &lt;li&gt;smaller font size for longer microbreak ideas&lt;/li&gt;
  &lt;li&gt;Improved grammar of microbreak ideas&lt;/li&gt;
  &lt;li&gt;display checkbox list vertically in settings screen 3&lt;/li&gt;
  &lt;li&gt;Dutch translations updated&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="fixed"&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Ctrl+X global shortcut not being released after &lt;code&gt;Reset breaks&lt;/code&gt; and &lt;code&gt;Skip to&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="added"&gt;Added&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;new break ideas&lt;/li&gt;
  &lt;li&gt;pause breaks when screen is locked (Windows, macOS)&lt;/li&gt;
  &lt;li&gt;change tray icon when stretchly is paused&lt;/li&gt;
  &lt;li&gt;allow to use inverted (white) monochrome tray icon (Linux, Windows)&lt;/li&gt;
  &lt;li&gt;Danish translations&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Thanks to everyone for support on &lt;a href="https://www.patreon.com/hovancik"&gt;Patreon&lt;/a&gt; and code contributions!&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>stretchly 0.20.1 released</title>
    <link rel="alternate" href="http://hovancik.net/blog/2019/07/14/stretchly-0-20-1-released/"/>
    <id>http://hovancik.net/blog/2019/07/14/stretchly-0-20-1-released/</id>
    <published>2019-07-14T09:15:00+00:00</published>
    <updated>2020-01-22T12:17:59+00:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;Hi there guys, I am really happy to release version 0.20.1 of &lt;a href="/stretchly"&gt;&lt;em&gt;stretchly&lt;/em&gt;&lt;/a&gt;. You can download it from &lt;a href="/stretchly/downloads"&gt;downloads&lt;/a&gt; page.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;stretchly&lt;/em&gt; is cross-platform open source app that reminds you to take breaks when working with computer.&lt;/p&gt;

&lt;p&gt;If you enjoy &lt;em&gt;stretchly&lt;/em&gt;, consider becoming patron at &lt;a href="https://www.patreon.com/hovancik"&gt;Patreon&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="added"&gt;Added&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;clicking on settings file location will open it&lt;/li&gt;
  &lt;li&gt;ability to copy debug info to clipboard&lt;/li&gt;
  &lt;li&gt;Added Lithuanian language&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="fixed"&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;auto hide menu bar in app's windows&lt;/li&gt;
  &lt;li&gt;break window not always shown on top of other windows (for Windows OS)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Thanks to everyone for support on &lt;a href="https://www.patreon.com/hovancik"&gt;Patreon&lt;/a&gt; and code contributions!&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>stretchly 0.20.0 released</title>
    <link rel="alternate" href="http://hovancik.net/blog/2019/07/02/stretchly-0-20-0-released/"/>
    <id>http://hovancik.net/blog/2019/07/02/stretchly-0-20-0-released/</id>
    <published>2019-07-02T16:57:00+00:00</published>
    <updated>2020-01-22T12:17:59+00:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;Hi there guys, I am really happy to release version 0.20.0 of &lt;a href="/stretchly"&gt;&lt;em&gt;stretchly&lt;/em&gt;&lt;/a&gt;. You can download it from &lt;a href="/stretchly/downloads"&gt;downloads&lt;/a&gt; page.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;stretchly&lt;/em&gt; is cross-platform open source app that reminds you to take breaks when working with computer.&lt;/p&gt;

&lt;p&gt;If you enjoy &lt;em&gt;stretchly&lt;/em&gt;, consider becoming patron at &lt;a href="https://www.patreon.com/hovancik"&gt;Patreon&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="fixed"&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;workaround multiple screens and fullscreen (macOS)&lt;/li&gt;
  &lt;li&gt;tray icon size on Linux&lt;/li&gt;
  &lt;li&gt;problem with Window missing when resetting settings to defaults&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="changed"&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;update icons and graphic materials&lt;/li&gt;
  &lt;li&gt;Turkish translations updated&lt;/li&gt;
  &lt;li&gt;Hindi translations updated&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="added"&gt;Added&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Korean translations&lt;/li&gt;
  &lt;li&gt;more break and microbreak ideas&lt;/li&gt;
  &lt;li&gt;more settings in Contributor's settings&lt;/li&gt;
  &lt;li&gt;Polish translation&lt;/li&gt;
  &lt;li&gt;start a break/microbreak with a sound (set via config file or Contributor's settings)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Thanks to everyone for support on &lt;a href="https://www.patreon.com/hovancik"&gt;Patreon&lt;/a&gt; and code contributions!&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>You can specify chromeDriver's user data directory for electron app's tests</title>
    <link rel="alternate" href="http://hovancik.net/blog/2019/05/30/you-can-specify-chromedriver-s-user-data-directory-for-electron-app-s-tests/"/>
    <id>http://hovancik.net/blog/2019/05/30/you-can-specify-chromedriver-s-user-data-directory-for-electron-app-s-tests/</id>
    <published>2019-05-30T10:54:00+00:00</published>
    <updated>2020-01-22T12:17:59+00:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;When upgrading &lt;a href="https://hovancik.net/stretchly"&gt;stretchly&lt;/a&gt; to the version 5 of the &lt;a href="https://electronjs.org/"&gt;electron&lt;/a&gt;, I found myself fighting with failing tests testing the start of the app with specific settings. (Settings are saved as a file on disk, usually in user's data directory, and loaded on app's start.).&lt;/p&gt;

&lt;h2 id="electron-v2"&gt;Electron v2&lt;/h2&gt;

&lt;p&gt;&lt;a href="https://railsgirlssummerofcode.org/"&gt;RGSoC&lt;/a&gt; students working on stretchly that time, wrote this code for the tests:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;let Application = require('spectron').Application
let electronPath = require('electron')
const AppSettings = require('../app/utils/settings')

async function modifySettings (key, value) {
  let app

  try {
    app = new Application({
      path: electronPath,
      args: [
        `${__dirname}/../app`
      ]
    })

    await app.start()
  } catch (err) {
    console.log('error starting app:', err)
    throw err
  }

  try {
    app.client.addCommand('getUserDataPath', function () {
      return this.execute(function () {
        // spectron does not have the ability to "get path", so we
        // instruct spectron to get the contents of the electron module
        // and get the location of the settings file directory
        // (https://github.com/electron/spectron/issues/16)
        return require('electron').remote.app.getPath('userData')
      })
    })
  } catch (err) {
    console.log('error stubbing getUserDataPath command:', err)
    throw err
  }

  try {
    const path = await app.client.getUserDataPath()
    const settingsFile = `${path.value}/config.json`
    const settings = new AppSettings(settingsFile)
    settings.set(key, value)
  } catch (err) {
    console.log('error updating settings:', err)
    throw err
  }

  try {
    await app.stop()
  } catch (err) {
    console.log('error stopping application:', err)
    throw err
  }
}

module.exports = {
  modifySettings
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;What it does is running the app and then setting the settings we want. For example specific key/value before each test:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;beforeEach(function () {
  return modifySettings('isFirstRun', false)
})
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This was working fine (as I found out recently), because each test was running from the same location (or better said, the settings file was always in the same location).&lt;/p&gt;

&lt;h2 id="electron-v5"&gt;Electron v5&lt;/h2&gt;

&lt;p&gt;But this not what was happening in electron 5. Each start of the app had different user data path, thus when &lt;code&gt;modifySettings&lt;/code&gt; set some value and I run the test, the path was different already. (As each was different start of the app.)&lt;/p&gt;

&lt;p&gt;Fortunately, you can specify the location of user data directory, when creating new Application like this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;new Application({
  path: electronPath,
  args: [
    `${__dirname}/../app`
  ],
  chromeDriverArgs: [
    `--user-data-dir=${__dirname}/stretchly-test-tmp`
  ]
})
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And that's exactly what I did.&lt;/p&gt;

&lt;p&gt;When creating Application in &lt;code&gt;modifySettings&lt;/code&gt; helper and inside of the tests, the same &lt;code&gt;user-data-dir&lt;/code&gt; is specified, thus making tests pass again.&lt;/p&gt;

&lt;p&gt;I guess it's not the best idea, as running each test from different directory makes sense, but for this use-case I'm fine with it.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Your stretchly is here (for some time)</title>
    <link rel="alternate" href="http://hovancik.net/blog/2019/04/20/your-stretchly-is-here-for-some-time/"/>
    <id>http://hovancik.net/blog/2019/04/20/your-stretchly-is-here-for-some-time/</id>
    <published>2019-04-20T10:34:00+00:00</published>
    <updated>2020-01-22T12:17:59+00:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;If you're following &lt;a href="https://us11.campaign-archive.com/home/?u=7ce75bb5ad016b05238a9a095&amp;amp;id=49efaa672f"&gt;stretchly's newsletter&lt;/a&gt; or if you are &lt;a href="https://patreon.com/hovancik"&gt;my patron on Patreon&lt;/a&gt;, you might have noticed the announcement: &lt;strong&gt;Your stretchly is here!&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;And as title says, it's for some time now. (Somehow I'm only writing this now…)&lt;/p&gt;

&lt;p&gt;When announced, it was allowing my Patreon patrons to easily edit extra settings that were available only via editing &lt;a href="https://github.com/hovancik/stretchly#advanced-settings"&gt;config file&lt;/a&gt; till then. Not all settings are there, yet, but plan is to have them all (plus a thing or two).&lt;/p&gt;

&lt;p&gt;Here's a sneak peak:&lt;/p&gt;

&lt;p&gt;&lt;img src="/img/your-stretchly-mvp.png" alt="Your stretchly" width="100%" /&gt;&lt;/p&gt;

&lt;p&gt;Since initial announcement, I've also added authentication via Github, so anyone who contributed to &lt;em&gt;stretchly&lt;/em&gt; can use &lt;em&gt;Your stretchly&lt;/em&gt; as well.&lt;/p&gt;

&lt;p&gt;Thanks for all of your support and I hope you will keep enjoying &lt;em&gt;stretchly&lt;/em&gt; and &lt;em&gt;Your stretchly&lt;/em&gt;!&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>stretchly 0.19.1 released</title>
    <link rel="alternate" href="http://hovancik.net/blog/2019/02/17/stretchly-0-19-1-released/"/>
    <id>http://hovancik.net/blog/2019/02/17/stretchly-0-19-1-released/</id>
    <published>2019-02-17T09:28:00+00:00</published>
    <updated>2020-01-22T12:17:59+00:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;Hi there guys, I am really happy to release version 0.19.1 of &lt;a href="/stretchly"&gt;&lt;em&gt;stretchly&lt;/em&gt;&lt;/a&gt;. You can download it from &lt;a href="https://hovancik.net/stretchly/downloads"&gt;downloads&lt;/a&gt; page.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;stretchly&lt;/em&gt; is cross-platform open source app that reminds you to take breaks when working with computer.&lt;/p&gt;

&lt;p&gt;If you enjoy &lt;em&gt;stretchly&lt;/em&gt;, consider becoming patron at &lt;a href="https://www.patreon.com/hovancik"&gt;Patreon&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="fixed"&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;fullscreen mode on Windows&lt;/li&gt;
  &lt;li&gt;ability to hide break ideas from break windows&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="added"&gt;Added&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;more debug info (chrome, electron, nodejs versions)&lt;/li&gt;
  &lt;li&gt;allow user to disable ability to postpone breaks&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="changed"&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Simplified Chinese translations updated&lt;/li&gt;
  &lt;li&gt;Czech translations updated&lt;/li&gt;
  &lt;li&gt;Slovak translations updated&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Thanks to everyone for support on &lt;a href="https://www.patreon.com/hovancik"&gt;Patreon&lt;/a&gt; and code contributions!&lt;/p&gt;
</content>
  </entry>
</feed>
