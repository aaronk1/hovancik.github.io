<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Jan Hovancik</title>
  <subtitle>software developer - guitar player - poetry lover</subtitle>
  <id>http://hovancik.net/blog</id>
  <link href="http://hovancik.net/blog"/>
  <link href="http://hovancik.net/blog/feed.xml" rel="self"/>
  <updated>2018-03-17T15:14:00+01:00</updated>
  <author>
    <name>Jan Hovancik</name>
  </author>
  <entry>
    <title>stretchly 0.16.0 released</title>
    <link rel="alternate" href="http://hovancik.net/blog/2018/03/17/stretchly-0-16-0-released/"/>
    <id>http://hovancik.net/blog/2018/03/17/stretchly-0-16-0-released/</id>
    <published>2018-03-17T15:14:00+01:00</published>
    <updated>2018-03-18T09:02:56+01:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;Hi there guys, I am really happy to release version 0.16.0 of &lt;a href="/stretchly"&gt;&lt;em&gt;stretchly&lt;/em&gt;&lt;/a&gt;. You can download it from &lt;a href="https://hovancik.net/stretchly/downloads"&gt;downloads&lt;/a&gt; page.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;stretchly&lt;/em&gt; is cross-platform open source app that reminds you to take breaks when working with computer.&lt;/p&gt;

&lt;p&gt;If you enjoy &lt;em&gt;stretchly&lt;/em&gt;, consider becoming patron at &lt;a href="https://www.patreon.com/hovancik"&gt;Patreon&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="added"&gt;Added&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Russian translations for interface&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="changed"&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;upper limit of microbreak duration set to 60 seconds&lt;/li&gt;
  &lt;li&gt;download link from github's releases to hovancik.net/stretchly/downloads&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="fixed"&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;notifications not working on latest Windows 10&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Thanks to everyone for support and contributions!&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Updating certificates for Heroku with Cloudflare</title>
    <link rel="alternate" href="http://hovancik.net/blog/2018/03/01/updating-certificates-for-heroku-with-cloudflare/"/>
    <id>http://hovancik.net/blog/2018/03/01/updating-certificates-for-heroku-with-cloudflare/</id>
    <published>2018-03-01T11:27:00+01:00</published>
    <updated>2018-03-18T09:02:56+01:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;Do you have a app on Heroku, DNS on Cloudflare and your SSL certificate is automatically managed by Heroku?&lt;/p&gt;

&lt;p&gt;I do. And yesterday I received email like this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Hi,

Automated Certificate Management
has failed for the following domains:

Domain 	              Reason
domain.sk 	
www.domain.sk 	

You should be able to find specific information
to correct the above noted errors at:
https://devcenter.heroku.com/articles/automated-certificate-management#troubleshooting

Happy coding,

Heroku
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Yep, no reason, obviously.&lt;/p&gt;

&lt;p&gt;Following the link gave me something useful (as my DNS records were fine):&lt;/p&gt;

&lt;p&gt;&lt;em&gt;ACM is not available if your app is behind a CDN such as Cloudflare or Fastly.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;So I check my DNS again and I see that I use 'DNS and HTTP proxy (CDN)'.&lt;/p&gt;

&lt;p&gt;Setting it do 'DNS only' and running &lt;code&gt;heroku certs:auto:refresh --app=myapp&lt;/code&gt; did the trick.&lt;/p&gt;

&lt;p&gt;My certificate is OK and I can set 'DNS and HTTP proxy (CDN)' again.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>stretchly 0.15.0 released</title>
    <link rel="alternate" href="http://hovancik.net/blog/2018/02/20/stretchly-0-15-0-released/"/>
    <id>http://hovancik.net/blog/2018/02/20/stretchly-0-15-0-released/</id>
    <published>2018-02-20T14:22:00+01:00</published>
    <updated>2018-03-18T09:02:56+01:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;Hi there guys, I am really happy to release version 0.15.0 of &lt;a href="/stretchly"&gt;&lt;em&gt;stretchly&lt;/em&gt;&lt;/a&gt;. You can download it from &lt;a href="https://github.com/hovancik/stretchly/releases/tag/v0.15.0"&gt;github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;stretchly&lt;/em&gt; is cross-platform open source app that reminds you to take breaks when working with computer.&lt;/p&gt;

&lt;p&gt;If you enjoy &lt;em&gt;stretchly&lt;/em&gt;, consider becoming patron at &lt;a href="https://www.patreon.com/hovancik"&gt;Patreon&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="added"&gt;Added&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Bulgarian translations for interface&lt;/li&gt;
  &lt;li&gt;Brazilian Portuguese translations for interface&lt;/li&gt;
  &lt;li&gt;Chinese translations for interface, distinguish between two kinds of Chinese&lt;/li&gt;
  &lt;li&gt;AppX and web installer for Windows&lt;/li&gt;
  &lt;li&gt;ability to change install directory for Windows&lt;/li&gt;
  &lt;li&gt;ability to install per user or per machine on Windows&lt;/li&gt;
  &lt;li&gt;Multi-display support added and enabled by default&lt;/li&gt;
  &lt;li&gt;ability to set break to less than 5 minutes&lt;/li&gt;
  &lt;li&gt;Hindi Translations for interface&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="fixed"&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;style for long names of schemes&lt;/li&gt;
  &lt;li&gt;app not starting when both break types are disabled&lt;/li&gt;
  &lt;li&gt;missing "reset to defaults"&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Thanks to everyone for support and contributions!&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>stretchly accepted to participate in RGSoC 2018</title>
    <link rel="alternate" href="http://hovancik.net/blog/2018/02/02/stretchly-accepted-to-participate-in-rgsoc-2018/"/>
    <id>http://hovancik.net/blog/2018/02/02/stretchly-accepted-to-participate-in-rgsoc-2018/</id>
    <published>2018-02-02T10:01:00+01:00</published>
    <updated>2018-03-18T09:02:56+01:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;Hey folks, I'm really happy to announce that &lt;a href="https://hovancik.net/stretchly"&gt;stretchly&lt;/a&gt;, my open-source break time reminder app, had been accepted to participate&lt;br /&gt;
in RGSoC 2018.&lt;/p&gt;

&lt;h3 id="whats-rgsoc"&gt;What's RGSoC?&lt;/h3&gt;

&lt;p&gt;&lt;a href="https://railsgirlssummerofcode.org/"&gt;Rails Girls Summer of Code&lt;/a&gt; is an award-winning global fellowship program aimed at bringing more diversity into Open Source. The program welcomes all women and non-binary applicants who want to gain a footing in the world of programming and further expand their knowledge and skills. The focus is on advanced beginners who want to go into programming full-time.&lt;/p&gt;

&lt;p&gt;Successful applicants are paid a monthly stipend, from July to September, to work on a worthwhile Open Source project. Working in two-person teams, students are supported by a mentor directly involved with the Open Source project, as well as independent coaches with extensive developer experience.&lt;/p&gt;

&lt;h3 id="yay"&gt;Yay&lt;/h3&gt;
&lt;p&gt;I'm really excited about it, as last year I've been coaching for RGSoC. So this year, this should be even more interesting.&lt;/p&gt;

&lt;p&gt;If you know about someone who might be interested in helping out stretchly, let them know. &lt;a href="https://railsgirlssummerofcode.org/students/application/"&gt;Applications&lt;/a&gt; are about to start!&lt;/p&gt;

&lt;p&gt;stretchly project page is &lt;a href="https://teams.railsgirlssummerofcode.org/projects/204-stretchly-break-time-reminder-app"&gt;here&lt;/a&gt;.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>stretchly 0.14.0 released</title>
    <link rel="alternate" href="http://hovancik.net/blog/2018/01/07/stretchly-0-14-0-released/"/>
    <id>http://hovancik.net/blog/2018/01/07/stretchly-0-14-0-released/</id>
    <published>2018-01-07T10:46:00+01:00</published>
    <updated>2018-03-18T09:02:56+01:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;Hi there guys, I am really happy to release version 0.14.0 of &lt;a href="/stretchly"&gt;&lt;em&gt;stretchly&lt;/em&gt;&lt;/a&gt;. You can download it from &lt;a href="https://github.com/hovancik/stretchly/releases/tag/v0.14.0"&gt;github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;stretchly&lt;/em&gt; is cross-platform open source app that reminds you to take breaks when working with computer.&lt;/p&gt;

&lt;p&gt;If you enjoy &lt;em&gt;stretchly&lt;/em&gt;, consider becoming patron at &lt;a href="https://www.patreon.com/hovancik"&gt;Patreon&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id="fixed"&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;make sure windows offset is integer&lt;/li&gt;
  &lt;li&gt;minor translations issues&lt;/li&gt;
  &lt;li&gt;macOS fullscreen mode&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="added"&gt;Added&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;allows user to not show new version notification via config file&lt;/li&gt;
  &lt;li&gt;Czech translations for interface&lt;/li&gt;
  &lt;li&gt;Chinese translations for interface&lt;/li&gt;
  &lt;li&gt;German translations for interface&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="changed"&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;texts in windows are not selectable (except debug info)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Thanks to everyone for translations! More are coming!&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>stretchly 0.13.0 released</title>
    <link rel="alternate" href="http://hovancik.net/blog/2017/12/20/stretchly-0-13-0-released/"/>
    <id>http://hovancik.net/blog/2017/12/20/stretchly-0-13-0-released/</id>
    <published>2017-12-20T10:46:00+01:00</published>
    <updated>2018-03-18T09:02:56+01:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;Hi there guys, I am really happy to release version 0.13.0 of &lt;a href="/stretchly"&gt;&lt;em&gt;stretchly&lt;/em&gt;&lt;/a&gt;. You can download it from &lt;a href="https://github.com/hovancik/stretchly/releases/tag/v0.13.0"&gt;github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;stretchly&lt;/em&gt; is cross-platform open source app that reminds you to take breaks when working with computer.&lt;/p&gt;

&lt;h3 id="added"&gt;Added&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;icons for app windows&lt;/li&gt;
  &lt;li&gt;possibility to have interface translated&lt;/li&gt;
  &lt;li&gt;Slovak translations for interface&lt;/li&gt;
  &lt;li&gt;French translations for interface&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Thanks to @laem for french translations!&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Shocking size of electron apps</title>
    <link rel="alternate" href="http://hovancik.net/blog/2017/12/11/shocking-size-of-electron-apps/"/>
    <id>http://hovancik.net/blog/2017/12/11/shocking-size-of-electron-apps/</id>
    <published>2017-12-11T10:29:00+01:00</published>
    <updated>2018-03-18T09:02:56+01:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;&lt;strong&gt;&lt;em&gt;Trigger Warning: Rape&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Last week I received this email:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;from: U884862107693 &amp;lt;gKdeNUHMYr@protonmail.ch&amp;gt;
subject: Stretchly

Hello.

Your small program (Stretchly) has a very shocking size (108 MB). Do you think that this is the normal size for such a low-functionality program?

You're not a programmer. You are fucking idiot. You need to work as a waiter in McDonalds, not write a programs.

If you do not rewrite your program so that it does not have such a large size, I will come to you and fuck you. I'll fuck you till you love me.


Bye.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Few things:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;even thought he is right about the size of the app (because of electron), there's no way of making it smaller by being vulgar&lt;/li&gt;
  &lt;li&gt;by being vulgar he made my day&lt;/li&gt;
  &lt;li&gt;I guess better not to answer (but I swear I have like 100 ideas + (100 from my girlfriend) how to answer him - that would be fun)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Anyway… I might do it…&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>stretchly 0.12.0 released</title>
    <link rel="alternate" href="http://hovancik.net/blog/2017/11/05/stretchly-0-12-0-released/"/>
    <id>http://hovancik.net/blog/2017/11/05/stretchly-0-12-0-released/</id>
    <published>2017-11-05T16:00:00+01:00</published>
    <updated>2018-03-18T09:02:56+01:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;Hi there guys, I am really happy to release version 0.12.0 of &lt;a href="/stretchly"&gt;&lt;em&gt;stretchly&lt;/em&gt;&lt;/a&gt;. You can download it from &lt;a href="https://github.com/hovancik/stretchly/releases/tag/v0.12.0"&gt;github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;stretchly&lt;/em&gt; is cross-platform open source app that reminds you to take breaks when working with computer.&lt;/p&gt;

&lt;h3 id="fixed"&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;error with second instance on Windows&lt;/li&gt;
  &lt;li&gt;breaks wont resume with indefinite pause after system resume&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="added"&gt;Added&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;monitoring of system idle time for natural breaks (when user leaves and after return idle time is greater then break duration, &lt;em&gt;stretchly&lt;/em&gt; will reset breaks)&lt;/li&gt;
  &lt;li&gt;menu link to Patreon&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="changed"&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;microbreak notifications are 10 seconds before and can be disabled&lt;/li&gt;
&lt;/ul&gt;

</content>
  </entry>
  <entry>
    <title>stretchly 0.11.0 released</title>
    <link rel="alternate" href="http://hovancik.net/blog/2017/09/10/stretchly-0-11-0-released/"/>
    <id>http://hovancik.net/blog/2017/09/10/stretchly-0-11-0-released/</id>
    <published>2017-09-10T10:44:00+02:00</published>
    <updated>2018-03-18T09:02:56+01:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;Hi there guys, I am really happy to release version 0.11.0 of &lt;a href="/stretchly"&gt;&lt;em&gt;stretchly&lt;/em&gt;&lt;/a&gt;. You can download it from &lt;a href="https://github.com/hovancik/stretchly/releases/tag/v0.11.0"&gt;github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;stretchly&lt;/em&gt; is cross-platform open source app that reminds you to take breaks when working with computer.&lt;/p&gt;

&lt;h3 id="added"&gt;Added&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;option to not show break ideas&lt;/li&gt;
  &lt;li&gt;option to show notification 30 seconds before break starts&lt;/li&gt;
&lt;/ul&gt;

</content>
  </entry>
  <entry>
    <title>stretchly 0.10.0 released</title>
    <link rel="alternate" href="http://hovancik.net/blog/2017/08/23/stretchly-0-10-0-released/"/>
    <id>http://hovancik.net/blog/2017/08/23/stretchly-0-10-0-released/</id>
    <published>2017-08-23T18:55:00+02:00</published>
    <updated>2018-03-18T09:02:56+01:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;Hi there guys, I am really happy to release version 0.10.0 of &lt;a href="/stretchly"&gt;&lt;em&gt;stretchly&lt;/em&gt;&lt;/a&gt;. You can download it from &lt;a href="https://github.com/hovancik/stretchly/releases/tag/v0.10.0"&gt;github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;stretchly&lt;/em&gt; is cross-platform open source app that reminds you to take breaks when working with computer.&lt;/p&gt;

&lt;h3 id="added"&gt;Added&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;Ctrl/Cmd + d&lt;/code&gt; shortcut in About window to show debug information&lt;/li&gt;
  &lt;li&gt;monitoring suspend/resume (alfa, electron has bugs)&lt;/li&gt;
  &lt;li&gt;link to my.stretchly.net in menu&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="fixed"&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;break is not skippable via shortcut in strict mode&lt;/li&gt;
  &lt;li&gt;macOS tooltip works without dock icon (after packaging)&lt;/li&gt;
  &lt;li&gt;close break windows on &lt;code&gt;Reset breaks&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="changed"&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;rewrite break management using Events&lt;/li&gt;
  &lt;li&gt;get active settings when changing Settings window pages&lt;/li&gt;
&lt;/ul&gt;

</content>
  </entry>
  <entry>
    <title>Creating new Rails and Vue.js app with Docker</title>
    <link rel="alternate" href="http://hovancik.net/blog/2017/07/02/creating-new-rails-and-vue-js-app-with-docker/"/>
    <id>http://hovancik.net/blog/2017/07/02/creating-new-rails-and-vue-js-app-with-docker/</id>
    <published>2017-07-02T14:30:00+02:00</published>
    <updated>2018-03-18T09:02:56+01:00</updated>
    <author>
      <name>Jan Hovancik</name>
    </author>
    <content type="html">&lt;p&gt;The most of Rails and Docker tutorials either show how to &lt;a href="https://semaphoreci.com/community/tutorials/dockerizing-a-ruby-on-rails-application"&gt;dockerize&lt;/a&gt; your existing app, or how to create new Rails app by &lt;a href="https://blog.codeship.com/running-rails-development-environment-docker/"&gt;installing Rails&lt;/a&gt; locally and then adding Docker as second step.&lt;/p&gt;

&lt;p&gt;It works but it have always struck me as weird idea: &lt;em&gt;why installing Ruby first&lt;/em&gt;? Isn't the point of Docker, at least in part, that I do not need Ruby locally?&lt;/p&gt;

&lt;p&gt;I am not that familiar with Docker so I decided to figure this out. &lt;a href="https://vuejs.org/"&gt;Vue.js&lt;/a&gt; included, as it's something I want to try out and there's not a lot of stuff about it out there.&lt;/p&gt;

&lt;p&gt;The result should be &lt;strong&gt;basic example of Vue.js and Rails app running inside Docker container&lt;/strong&gt;. And for that, I'd like to use &lt;a href="https://github.com/rails/webpacker"&gt;webpacker&lt;/a&gt; gem. One more thing: no &lt;a href="http://coffeescript.org/"&gt;CoffeeScript&lt;/a&gt; (which is default for Rails).&lt;/p&gt;

&lt;p&gt;&lt;em&gt;I recommend to familiarize yourself with Docker and webpacker, if not already. I am not gonna talk about them a lot.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id="no-local-ruby-and-rails"&gt;No local Ruby and Rails&lt;/h2&gt;

&lt;p&gt;As it turns out, it's not that hard.&lt;/p&gt;

&lt;p&gt;All I needed to do is go to the official Docker's &lt;a href="https://docs.docker.com/compose/rails/#define-the-project"&gt;Rails example&lt;/a&gt;. The document shows how to create new Rails app with PostgreSQL database without need to have Rails or Ruby installed on local machine.&lt;/p&gt;

&lt;p&gt;Adding Vue.js to the mix changes steps a bit and that's what I will be writing about.&lt;/p&gt;

&lt;h2 id="docker-container"&gt;Docker container&lt;/h2&gt;

&lt;p&gt;To be able to create new app, we first need to prepare Docker container that can run &lt;code&gt;rails new fancyapp --force --database=postgresql --webpack=vue --skip-coffee&lt;/code&gt; command. For that we need to have Rails so feel free to initialize your git repo and create basic &lt;code&gt;Gemfile&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-ruby"&gt;source 'https://rubygems.org'
ruby '2.4.1'
gem 'rails', '~&amp;gt; 5.1', '&amp;gt;= 5.1.1'
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;Gemfile.lock&lt;/code&gt; is empty at this point.&lt;/p&gt;

&lt;p&gt;Now let's install other dependencies via &lt;code&gt;Dockerfile&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;FROM ruby:2.4.1

RUN apt-get update -qq &amp;amp;&amp;amp; apt-get install -y build-essential libpq-dev

# Node.js
RUN curl -sL https://deb.nodesource.com/setup_7.x | bash - \
&amp;amp;&amp;amp; apt-get install -y nodejs

RUN apt-get update &amp;amp;&amp;amp; apt-get install -y curl apt-transport-https wget &amp;amp;&amp;amp; \
curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add - &amp;amp;&amp;amp; \
echo "deb https://dl.yarnpkg.com/debian/ stable main" | tee /etc/apt/sources.list.d/yarn.list &amp;amp;&amp;amp; \
apt-get update &amp;amp;&amp;amp; apt-get install -y yarn

RUN mkdir /fancyapp
WORKDIR /fancyapp

ADD Gemfile /fancyapp/Gemfile
ADD Gemfile.lock /fancyapp/Gemfile.lock

RUN bundle install

ADD . /fancyapp
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is pretty straightforward: we install PostgreSQL lib, Node.js and yarn. Then we create directory for our fancy app and add &lt;code&gt;Gemfile&lt;/code&gt; and &lt;code&gt;Gemfile.lock&lt;/code&gt; there. Bundle will install Rails so we can use it to create new app.&lt;/p&gt;

&lt;p&gt;Think about your app name here, and name the folder accordingly. Rails app will get name from it.&lt;/p&gt;

&lt;p&gt;One last thing is &lt;code&gt;docker-compose.yml&lt;/code&gt;. We will use &lt;code&gt;docker-compose&lt;/code&gt; to run Docker commands.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;version: '3'
services:
  db:
    image: postgres
  web:
    build: .
    command: bundle exec rails s -p 3000 -b '0.0.0.0'
    volumes:
      - .:/fancyapp
    ports:
      - "3000:3000"
    depends_on:
      - db
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id="rails-new-fancyapp"&gt;rails new fancyapp&lt;/h2&gt;

&lt;p&gt;Now that we are all ready, we need to call &lt;code&gt;docker-compose build&lt;/code&gt;. Rails and all deps will get installed, so we can &lt;code&gt;docker-compose run web rails new . --force --database=postgresql --webpack=vue --skip-coffee&lt;/code&gt; to create new app.&lt;/p&gt;

&lt;p&gt;We do not set application name in &lt;code&gt;rails new&lt;/code&gt; command, as we are calling it from inside our app directory. In our case the app will be called &lt;em&gt;fancyapp&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;The command mentioned will generate new app with example Vue.js code that we will use later. If you're running on Linux, the newly created files might be owned by root. To be able to work with them, run this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo chown -R $USER:$USER .
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then every time when you create files with &lt;code&gt;docker-compose run ...&lt;/code&gt;, do it again.&lt;/p&gt;

&lt;p&gt;Do not forget to add &lt;code&gt;ruby '2.4.1'&lt;/code&gt; to Gemfile again. It gets removed when using &lt;code&gt;--force&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Now you can run &lt;code&gt;docker-compose build&lt;/code&gt; again and &lt;code&gt;docker-compose up&lt;/code&gt;. Your app is available at &lt;code&gt;localhost:3000&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id="adding-vuejs"&gt;Adding Vue.js&lt;/h2&gt;

&lt;p&gt;The app running right now is ready to run Vue.js code, but our container is not. Let's change that.&lt;/p&gt;

&lt;p&gt;To make things easier, we will add new service in our &lt;code&gt;docker-compose&lt;/code&gt; running webpacker in &lt;a href="https://github.com/rails/webpacker#developing-with-webpacker"&gt;development&lt;/a&gt; enviroment.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;version: '3'
services:
  db:
    image: postgres
  webpacker:
    build: .
    command: bundle exec bin/webpack-dev-server
    volumes:
      - .:/fancyapp
    ports:
      - "8080:8080"
  web:
    build: .
    command: bundle exec rails s -p 3000 -b '0.0.0.0'
    volumes:
      - .:/fancyapp
    ports:
      - "3000:3000"
    depends_on:
      - db
      - webpacker
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You might need to run &lt;code&gt;docker-compose run web yarn install&lt;/code&gt; to get node packages installed. That's one part I haven't figured out yet.&lt;/p&gt;

&lt;p&gt;All that is left now is adding some Vue.js code.&lt;/p&gt;

&lt;p&gt;The easiest way is to add simple page via Rails generator: &lt;code&gt;docker-compose run web bundle exec rails g controller home index&lt;/code&gt;. We will only change the Index view by adding example Vue.js code generated in the beginning via &lt;code&gt;javascript_pack_tag&lt;/code&gt; that will execute code in &lt;code&gt;app/javascript/packs/hello_vue.js&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;h1&amp;gt;&amp;lt;%= javascript_pack_tag 'hello_vue' %&amp;gt;&amp;lt;/h1&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Go &lt;code&gt;up&lt;/code&gt; with your container and you should see &lt;em&gt;Hello Vue!&lt;/em&gt; in your browser.&lt;/p&gt;

&lt;p&gt;Congratz, you have Rails with Vue.js app!&lt;/p&gt;

&lt;h2 id="debugging"&gt;Debugging&lt;/h2&gt;

&lt;p&gt;If you run into any issue (eg. container wont start), it might be helpful to try to run commands not via &lt;code&gt;docker-compose up&lt;/code&gt;, but via &lt;code&gt;docker-compose run ...&lt;/code&gt;. This way you may get better error output.&lt;/p&gt;

&lt;p&gt;One might &lt;code&gt;docker-compose run web bundle exec rails s -p 3000 -b '0.0.0.0'&lt;/code&gt; to check whether there is something wrong with Rails starting up.&lt;/p&gt;

&lt;p&gt;I had to do that to figure out that pid file of my Rails app was not deleted when container went down.&lt;/p&gt;
&lt;h2 id="next-steps"&gt;Next steps&lt;/h2&gt;

&lt;p&gt;The &lt;code&gt;rails new&lt;/code&gt; generated example Vue.js stuff for us, but that's just the start.&lt;/p&gt;

&lt;p&gt;As I am not familiar with Vue.js, my next step is doing exactly that. Then I will need to learn more about webpacker. With that knowledge I hope to be able to fully use all the goods that this setup is giving me.&lt;/p&gt;
</content>
  </entry>
</feed>
